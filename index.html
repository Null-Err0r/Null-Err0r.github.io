<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>Mr. SAM</title>

  <link href="https://fonts.googleapis.com/css2?family=Fira+Mono&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;700&display=swap" rel="stylesheet" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    html, body {
      height: 100%;
      min-height: 100vh;
      margin: 0;
      padding: 0;
      background-color: #0a1f14;
      font-family: 'Vazirmatn', 'Fira Mono', monospace;
      color: #ffffff;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      user-select: none;
      overflow: hidden;
      direction: rtl;
      display: flex;
      position: relative;
      touch-action: manipulation;
    }

    #particles-js {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      background: radial-gradient(circle at center, rgba(255, 255, 255, 0.02) 0%, transparent 70%);
      animation: subtlePulse 10s ease-in-out infinite;
      opacity: 1;
      pointer-events: auto;
    }

    @keyframes subtlePulse {
      0% { opacity: 1; }
      50% { opacity: 0.8; }
      100% { opacity: 1; }
    }

    #particles-js canvas {
      display: block;
      visibility: visible;
      opacity: 1;
    }

    html[lang="en"] {
      font-family: 'Fira Mono', monospace;
      direction: ltr;
    }

    #terminal {
      height: 100vh;
      width: 100vw;
      display: flex;
      flex-direction: column;
      background-color: #04130cdd;
      padding: 10px;
      box-sizing: border-box;
      text-align: right;
      transition: width 0.3s ease;
      z-index: 1;
      overflow: hidden;
    }

    html[lang="en"] #terminal {
      text-align: left;
    }

    .split #terminal {
      width: 50vw;
    }

    #output {
      flex-grow: 1;
      overflow-y: auto;
      white-space: pre-wrap;
      line-height: 1.4;
      font-size: 1rem;
      user-select: text;
      margin: 0 0 10px 0;
      color: #ffffff;
      text-align: inherit;
      max-height: calc(100vh - 120px);
    }

    #output a {
      color: #00cc7a;
      text-decoration: underline;
      cursor: pointer;
    }

    #output a:hover {
      color: #00ff99;
    }

    #commandInput {
      border: none;
      border-top: 2px solid #ffffffcc;
      background: transparent;
      color: #ffffff;
      font-family: 'Vazirmatn', 'Fira Mono', monospace;
      font-size: 1.1rem;
      padding: 8px;
      outline: none;
      width: 100%;
      box-sizing: border-box;
      user-select: text;
      text-align: inherit;
      position: sticky;
      bottom: 0;
      z-index: 10;
      background-color: #04130cdd;
    }

    #commandInput::placeholder {
      color: #ffffffaa;
    }

    .lang-buttons {
      display: flex;
      gap: 8px;
      margin-bottom: 10px;
      justify-content: flex-end;
      position: sticky;
      top: 0;
      z-index: 10;
      background-color: #04130cdd;
      padding: 5px 0;
    }

    html[lang="en"] .lang-buttons {
      justify-content: flex-start;
    }

    .lang-btn {
      padding: 5px 12px;
      font-family: 'Vazirmatn', 'Fira Mono', monospace;
      font-size: 0.9rem;
      color: #ffffff;
      background-color: #002a17;
      border: 1.5px solid #ffffff;
      border-radius: 5px;
      cursor: pointer;
      user-select: none;
      transition: background-color 0.3s ease;
    }

    .lang-btn:hover {
      background-color: #005733;
    }

    .lang-btn.active {
      background-color: #007a4d;
      color: #ffffff;
      cursor: default;
    }

    #panel {
      display: none;
      width: 50vw;
      height: 100vh;
      background-color: #04130cdd;
      color: #ffffff;
      padding: 10px;
      box-sizing: border-box;
      overflow-y: auto;
      text-align: right;
      font-family: 'Vazirmatn', 'Fira Mono', monospace;
      font-size: 1rem;
      line-height: 1.4;
      position: relative;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
      border-radius: 8px;
      animation: slideIn 0.3s ease;
      z-index: 1;
    }

    @keyframes slideIn {
      from { transform: translateX(100%); }
      to { transform: translateX(0); }
    }

    html[lang="en"] #panel {
      text-align: left;
    }

    #panel a {
      color: #00cc7a;
      text-decoration: underline;
      cursor: pointer;
    }

    #panel a:hover {
      color: #00ff99;
    }

    #panel-content {
      margin-top: 10px;
      white-space: pre-wrap;
      position: relative;
      height: calc(100% - 40px);
    }

    #panel-content iframe {
      width: 100%;
      height: 100%;
      border: none;
      background-color: #04130cdd;
      display: block;
    }

    #close-panel {
      position: absolute;
      top: 10px;
      right: 10px;
      padding: 4px 8px;
      background-color: #002a17;
      border: 1.5px solid #ffffff;
      border-radius: 4px;
      color: #ffffff;
      font-family: 'Vazirmatn', 'Fira Mono', monospace;
      font-size: 0.9rem;
      cursor: pointer;
      user-select: none;
      z-index: 1000;
    }

    html[lang="en"] #close-panel {
      right: auto;
      left: 10px;
    }

    #close-panel:hover {
      background-color: #005733;
    }

    .progress-container {
      position: absolute;
      bottom: 15px;
      left: 50%;
      transform: translateX(-50%);
      width: 150px;
      height: 15px;
      background-color: #022a1c;
      border-radius: 8px;
      overflow: hidden;
      z-index: 1001;
      display: none;
      box-shadow: 0 0 8px rgba(0, 204, 122, 0.5);
    }

    .progress-bar {
      width: 0;
      height: 100%;
      background: linear-gradient(90deg, #00cc7a, #00ff99);
      transition: width 1.5s ease-in-out;
    }

    .progress-container.loading {
      display: block;
    }

    #output::-webkit-scrollbar,
    #panel::-webkit-scrollbar {
      width: 8px;
    }

    #output::-webkit-scrollbar-track,
    #panel::-webkit-scrollbar-track {
      background: #022a1c;
      border-radius: 6px;
    }

    #output::-webkit-scrollbar-thumb,
    #panel::-webkit-scrollbar-thumb {
      background: #ffffffcc;
      border-radius: 6px;
    }

    /* Visitor Counter Styles */
    .visitor {
      margin-bottom: 15px;
      text-align: center;
    }

    .visitor p {
      font-size: 1rem;
      color: #00ffcc;
      margin-bottom: 8px;
    }

    .visitor img {
      max-width: 100%;
      height: auto;
      border-radius: 6px;
      box-shadow: 0 0 8px rgba(0, 204, 122, 0.3);
    }

    /* Stats Section Styles */
    .stats {
      margin-bottom: 15px;
      text-align: center;
    }

    .responsive-img {
      max-width: 100%;
      height: auto;
      margin: 8px 0;
      border-radius: 6px;
      box-shadow: 0 0 8px rgba(0, 204, 122, 0.3);
    }

    /* Projects Section Styles */
    .projects {
      margin-bottom: 15px;
    }

    .projects h2 {
      font-size: 1.3rem;
      margin-bottom: 8px;
      color: #00ffcc;
      text-align: center;
    }

    .project-list-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 100%;
    }

    .project-list-container > div {
      margin: 8px 0;
      padding: 12px;
      background-color: #022a1c;
      border: 1px solid #00cc7a;
      border-radius: 6px;
      width: 90%;
      max-width: 350px;
      text-align: center;
    }

    .project-list-container a {
      color: #00ffcc;
      font-size: 1rem;
      text-decoration: none;
      font-weight: bold;
    }

    .project-list-container a:hover {
      color: #33ff99;
      text-decoration: underline;
    }

    .project-list-container p {
      color: #ffffff;
      font-size: 0.8rem;
      margin-top: 5px;
    }

    .other-projects {
      margin-bottom: 15px;
    }

    .other-projects h2 {
      font-size: 1.3rem;
      margin-bottom: 8px;
      color: #00ffcc;
      text-align: center;
    }

    .project-list {
      list-style: none;
      padding: 0;
      margin: 0;
      text-align: center;
    }

    .project-list li {
      margin: 8px 0;
    }

    .project-list a {
      color: #00cc7a;
      text-decoration: none;
      font-size: 0.9rem;
    }

    .project-list a:hover {
      color: #00ff99;
      text-decoration: underline;
    }

    .footer {
      text-align: center;
      margin-top: 15px;
    }

    .footer img {
      max-width: 100%;
      height: auto;
    }

@media (max-width: 600px) {
  #terminal {
    padding: 8px;
  }

  .split #terminal {
    width: 100vw;
  }

  #panel {
    width: 100vw;
    height: 100vh;
    border-radius: 0;
    padding: 8px;
    position: fixed;
    top: 0;
    right: 0;
    animation: slideIn 0.3s ease;
    z-index: 100;
  }

  #output, #panel-content {
    font-size: 0.9rem;
    line-height: 1.3;
    max-height: calc(100vh - 100px);
  }

  #commandInput {
    font-size: 1rem;
    padding: 6px;
  }

  .lang-buttons {
    margin-bottom: 8px;
    padding: 4px 0;
  }

  .lang-btn {
    font-size: 0.8rem;
    padding: 4px 10px;
  }

  #close-panel {
    font-size: 0.8rem;
    padding: 3px 6px;
  }

  #panel-content iframe {
    height: calc(100% - 30px);
  }

  .progress-container {
    width: 120px;
    height: 12px;
    bottom: 10px;
  }

  .project-list-container > div {
    width: 95%;
    padding: 8px;
  }

  .project-list-container a {
    font-size: 0.9rem;
  }

  .project-list-container p {
    font-size: 0.7rem;
  }

  .responsive-img, .visitor img {
    max-width: 95%;
    margin: 5px 0;
  }

  .visitor p {
    font-size: 0.9rem;
  }
}

  </style>
</head>
<body>
  <div id="particles-js"></div>
  <div id="terminal" role="main" aria-label="Terminal Portfolio">
    <div class="lang-buttons">
      <button class="lang-btn active" id="langFaBtn" aria-label="ØªØºÛŒÛŒØ± Ø¨Ù‡ ÙØ§Ø±Ø³ÛŒ" aria-pressed="true">ÙØ§Ø±Ø³ÛŒ</button>
      <button class="lang-btn" id="langEnBtn" aria-label="Switch to English" aria-pressed="false">English</button>
    </div>
    <pre id="output" aria-live="polite" aria-atomic="false"></pre>
    <input
      type="text"
      id="commandInput"
      autocomplete="off"
      autofocus
      placeholder="Ø¯Ø³ØªÙˆØ± Ø±Ø§ Ø§ÛŒÙ†Ø¬Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯..."
      aria-label="Command input"
      spellcheck="false"
      inputmode="text"
    />
  </div>
  <div id="panel" role="dialog" aria-label="Content Panel">
    <button id="close-panel" aria-label="Close panel">X</button>
    <div id="panel-content"></div>
  </div>

  <script src="js/particles.min.js"></script>
  <script>
    // Initialize particles
    function initParticles() {
      console.log('Initializing particles.js...');
      if (typeof particlesJS === 'undefined') {
        console.error('particles.js not loaded. Check if js/particles.min.js exists.');
        return;
      }
      particlesJS('particles-js', {
        particles: {
          number: { value: 50, density: { enable: true, value_area: 1000 } },
          color: { value: '#b0b0b0' },
          shape: { type: 'circle', stroke: { width: 0, color: '#000000' } },
          opacity: { value: 0.3, random: true },
          size: { value: 2, random: true },
          line_linked: { enable: true, distance: 200, color: '#b0b0b0', opacity: 0.2, width: 1 },
          move: { enable: true, speed: 1, direction: 'none', random: false, straight: false, out_mode: 'out', bounce: false }
        },
        interactivity: {
          detect_on: 'canvas',
          events: { onhover: { enable: true, mode: 'repulse' }, onclick: { enable: true, mode: 'push' }, resize: true },
          modes: { repulse: { distance: 150, duration: 0.4 }, push: { particles_nb: 3 } }
        },
        retina_detect: true
      }, function() {
        console.log('particles.js loaded successfully');
      });
    }

    // Attract particles to input on typing
    function attractParticlesToInput() {
      console.log('Attracting particles to input...');
      const inputRect = document.getElementById('commandInput').getBoundingClientRect();
      const canvas = document.querySelector('#particles-js canvas');
      if (canvas && window.pJSDom && window.pJSDom[0] && window.pJSDom[0].pJS) {
        const x = inputRect.left + inputRect.width / 2;
        const y = inputRect.top + inputRect.height / 2;
        const pJS = window.pJSDom[0].pJS;
        pJS.particles.move.attract = {
          enable: true,
          position: { x: x, y: y },
          distance: 150
        };
        setTimeout(() => {
          pJS.particles.move.attract.enable = false;
          console.log('Attraction stopped');
        }, 1000);
      } else {
        console.warn('Canvas or pJS not found');
      }
    }

    // Initialize particles on load
    try {
      initParticles();
    } catch (err) {
      console.error('Error initializing particles.js:', err);
    }

    const input = document.getElementById('commandInput');
    const output = document.getElementById('output');
    const langFaBtn = document.getElementById('langFaBtn');
    const langEnBtn = document.getElementById('langEnBtn');
    const panel = document.getElementById('panel');
    const panelContent = document.getElementById('panel-content');
    const closePanelBtn = document.getElementById('close-panel');

    let lang = 'fa';
    let currentPanelCommand = null;
    let cachedProjectsContent = null;
    let cachedAboutContent = null;

    const quotes = {
      en: [
        "â€œCode is like humor. When you have to explain it, itâ€™s bad.â€ â€“ Cory House",
        "â€œTalk is cheap. Show me the code.â€ â€“ Linus Torvalds",
        "â€œPrograms must be written for people to read, and only incidentally for machines to execute.â€ â€“ Harold Abelson",
        "â€œThe most disastrous thing that you can ever learn is your first programming language.â€ â€“ Alan Kay",
        "â€œAny fool can write code that a computer can understand. Good programmers write code that humans can understand.â€ â€“ Martin Fowler"
      ],
      fa: [
        "Â«Ú©Ø¯Ù†ÙˆÛŒØ³ÛŒ Ù…Ø«Ù„ Ø´ÙˆØ®ÛŒ Ø§Ø³Øª. ÙˆÙ‚ØªÛŒ Ù…Ø¬Ø¨ÙˆØ± Ø¨Ø§Ø´ÛŒ ØªÙˆØ¶ÛŒØ­Ø´ Ø¨Ø¯Ù‡ÛŒØŒ ÛŒØ¹Ù†ÛŒ Ø¨Ø¯ Ø§Ø³Øª.Â» â€“ Ú©ÙˆØ±ÛŒ Ù‡Ø§ÙˆØ³",
        "Â«Ø­Ø±Ù Ø²Ø¯Ù† Ø¢Ø³Ø§Ù† Ø§Ø³Øª. Ú©Ø¯ Ø±Ø§ Ø¨Ù‡ Ù…Ù† Ù†Ø´Ø§Ù† Ø¨Ø¯Ù‡.Â» â€“ Ù„ÛŒÙ†ÙˆØ³ ØªÙˆØ±ÙˆØ§Ù„Ø¯Ø²",
        "Â«Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ‡Ø§ Ø¨Ø§ÛŒØ¯ Ø¨Ø±Ø§ÛŒ Ø®ÙˆØ§Ù†Ø¯Ù† Ø§Ù†Ø³Ø§Ù†â€ŒÙ‡Ø§ Ù†ÙˆØ´ØªÙ‡ Ø´ÙˆÙ†Ø¯ØŒ Ùˆ ØªÙ†Ù‡Ø§ Ø¨Ù‡ ØµÙˆØ±Øª Ø§ØªÙØ§Ù‚ÛŒ Ø¨Ø±Ø§ÛŒ Ø§Ø¬Ø±Ø§ ØªÙˆØ³Ø· Ù…Ø§Ø´ÛŒÙ†â€ŒÙ‡Ø§.Â» â€“ Ù‡Ø§Ø±ÙˆÙ„Ø¯ Ø¢Ø¨ÙÙ„â€ŒØ³ÙˆÙ†",
        "Â«Ø¨Ø¯ØªØ±ÛŒÙ† Ú†ÛŒØ²ÛŒ Ú©Ù‡ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒ ÛŒØ§Ø¯ Ø¨Ú¯ÛŒØ±ÛŒØŒ Ø²Ø¨Ø§Ù† Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³ÛŒ Ø§ÙˆÙ„Øª Ø§Ø³Øª.Â» â€“ Ø¢Ù„Ù† Ú©ÛŒ",
        "Â«Ù‡Ø± Ú©Ø³ÛŒ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ú©Ø¯ÛŒ Ø¨Ù†ÙˆÛŒØ³Ø¯ Ú©Ù‡ Ú©Ø§Ù…Ù¾ÛŒÙˆØªØ± Ø¨ÙÙ‡Ù…Ø¯ØŒ Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³Ø§Ù† Ø®ÙˆØ¨ Ú©Ø¯ÛŒ Ù…ÛŒâ€ŒÙ†ÙˆÛŒØ³Ù†Ø¯ Ú©Ù‡ Ø§Ù†Ø³Ø§Ù†â€ŒÙ‡Ø§ Ø¨ÙÙ‡Ù…Ù†Ø¯.Â» â€“ Ù…Ø§Ø±ØªÛŒÙ† ÙØ§ÙˆÙ„Ø±"
      ]
    };

    const messages = {
      en: {
        welcome: ` Welcome <`,
        promptHelp: `... Type 'help' to get started <`,
        helpText: `Available commands:\n- about: Who am I\n- projects: Show my projects\n- quote: Show a motivational quote`,
        projectsLoading: `Fetching projects from GitHub...`,
        projectsError: `Error fetching projects. Visit: https://github.com/e0x1a`,
        langSwitched: `.Language switched to English`,
        cmdNotFound: `Command not found. Type 'help' to see available commands.`,
      },
      fa: {
        welcome: `>  Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯`,
        promptHelp: `> Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ 'Ø±Ø§Ù‡Ù†Ù…Ø§' Ø±Ø§ ØªØ§ÛŒÙ¾ Ú©Ù†ÛŒØ¯.`,
        helpText: `Ø¯Ø³ØªÙˆØ±Ø§Øª Ù…ÙˆØ¬ÙˆØ¯:\n- Ù…Ø´Ø®ØµØ§Øª: Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù…Ù†\n- Ú©Ø§Ø±Ù‡Ø§: Ù†Ù…Ø§ÛŒØ´ Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§\n- Ø¬Ù…Ù„Ù‡: Ù†Ù…Ø§ÛŒØ´ Ø¬Ù…Ù„Ù‡ Ø§Ù†Ú¯ÛŒØ²Ø´ÛŒ`,
        projectsLoading: `Ø¯Ø± Ø­Ø§Ù„ Ø¯Ø±ÛŒØ§ÙØª Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ Ø§Ø² GitHub...`,
        projectsError: `Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§. Ø¨Ù‡ Ø§ÛŒÙ† Ø¢Ø¯Ø±Ø³ Ù…Ø±Ø§Ø¬Ø¹Ù‡ Ú©Ù†ÛŒØ¯: https://github.com/e0x1a`,
        langSwitched: `Ø²Ø¨Ø§Ù† Ø¨Ù‡ ÙØ§Ø±Ø³ÛŒ ØªØºÛŒÛŒØ± Ú©Ø±Ø¯.`,
        cmdNotFound: `Ø¯Ø³ØªÙˆØ± ÛŒØ§ÙØª Ù†Ø´Ø¯. Ø¨Ø±Ø§ÛŒ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¯Ø³ØªÙˆØ±Ø§Øª 'Ø±Ø§Ù‡Ù†Ù…Ø§' Ø±Ø§ ØªØ§ÛŒÙ¾ Ú©Ù†ÛŒØ¯.`,
      }
    };

    function makeLinksClickable(text) {
      const urlRegex = /(?<!["'=])(https?:\/\/[^\s<>"']+)/g;
      return text.replace(urlRegex, '<a href="$1" target="_blank" rel="noopener noreferrer">$1</a>');
    }

    function initTerminal() {
      output.innerHTML = makeLinksClickable(`${messages[lang].welcome}\n${messages[lang].promptHelp}\n\n`);
      input.value = '';
      input.focus();
      closePanel();
    }

    function openPanel(content, command) {
      if (currentPanelCommand === command) return;
      document.body.classList.add('split');
      panel.style.display = 'block';
      panelContent.innerHTML = `
        <div class="progress-container" id="progressContainer">
          <div class="progress-bar" id="progressBar"></div>
        </div>
        ${content}
      `;
      currentPanelCommand = command;

      const progressContainer = panelContent.querySelector('#progressContainer');
      const progressBar = panelContent.querySelector('#progressBar');
      if (progressContainer && progressBar) {
        progressContainer.classList.add('loading');
        progressBar.style.width = '0';
        setTimeout(() => {
          progressBar.style.width = '100%';
          setTimeout(() => {
            progressContainer.classList.remove('loading');
          }, 1500);
        }, 100);
      }

      if (content.includes('iframe')) {
        const iframe = panelContent.querySelector('iframe');
        if (iframe) {
          iframe.addEventListener('load', () => {
            progressContainer.classList.remove('loading');
          }, { once: true });
        }
      }

      if (command === 'projects') {
        const images = panelContent.querySelectorAll('.responsive-img, .visitor img');
        let loadedImages = 0;
        if (images.length > 0) {
          images.forEach(img => {
            img.addEventListener('load', () => {
              loadedImages++;
              if (loadedImages === images.length && progressContainer) {
                progressContainer.classList.remove('loading');
              }
            }, { once: true });
            img.addEventListener('error', () => {
              loadedImages++;
              if (loadedImages === images.length && progressContainer) {
                progressContainer.classList.remove('loading');
              }
            }, { once: true });
          });
        } else if (progressContainer) {
          setTimeout(() => {
            progressContainer.classList.remove('loading');
          }, 1500);
        }
      }

      input.focus();
    }

    function closePanel() {
      document.body.classList.remove('split');
      panel.style.display = 'none';
      panelContent.innerHTML = '';
      currentPanelCommand = null;
      input.focus();
    }

    async function fetchProjects() {
      const importantRepos = [
        'Advanced-Mic-Camera-Monitor',
        'Hiden-Text-Detector',
        'YouTube-Downloader',
        'E0x1A',
        'E0x1A.github.io'
      ];
      try {
        const response = await fetch('https://api.github.com/users/E0x1A/repos');
        const data = await response.json();
        let repoListHtml = '<ul id="repo-list" class="project-list center">';
        data.forEach(repo => {
          if (!importantRepos.includes(repo.name)) {
            repoListHtml += `<li><a href="${repo.html_url}" target="_blank">${repo.name}</a></li>`;
          }
        });
        repoListHtml += '</ul>';
        return `
          <div class="visitor center">
            <p>ğŸ‘ï¸ğŸ‘ï¸Visitor No.ğŸ‘ï¸ğŸ‘ï¸</p>
<img src="https://profile-counter.glitch.me/E0x1A/count.svg" alt="Visitor Count" />
          </div>
          <div class="stats center">
            <img src="https://github-readme-stats.vercel.app/api/top-langs/?username=E0x1A&layout=compact&theme=gruvbox" alt="Top Languages" class="responsive-img" />
            <br>
            <img src="https://github-readme-stats.vercel.app/api?username=E0x1A&show_icons=true&theme=gruvbox" alt="GitHub Stats" class="responsive-img" />
            <br>
            <img src="https://github-readme-activity-graph.vercel.app/graph?username=E0x1A&theme=gruvbox" alt="Activity Graph" class="responsive-img" />
            <br>
            <img src="https://streak-stats.demolab.com?user=E0x1A&theme=gruvbox" alt="GitHub Streak" class="responsive-img" />
          </div>
          <div class="projects">
            <h2 class="center">ğŸ”§</h2>
            <div class="project-list-container">
              <div>
                <a href="https://github.com/E0x1A/Advanced-Mic-Camera-Monitor" target="_blank">Advanced Mic Camera Monitor</a>
                <p>ğŸ›¡ï¸ Ù…Ø§Ù†ÛŒØªÙˆØ±ÛŒÙ†Ú¯ Ù…ÛŒÚ©Ø±ÙˆÙÙ† Ùˆ Ø¯ÙˆØ±Ø¨ÛŒÙ† Ø¯Ø± Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡ Ø¨Ø±Ø§ÛŒ Ú©Ø´Ù Ø¬Ø§Ø³ÙˆØ³ÛŒ Ø§Ø­ØªÙ…Ø§Ù„ÛŒ</p>
              </div>
              <div>
                <a href="https://github.com/E0x1A/Hiden-Text-Detector" target="_blank">Hidden Text Detector</a>
                <p>ğŸ” Ú©Ø´Ù Ù…ØªÙˆÙ† Ù¾Ù†Ù‡Ø§Ù† Ø¯Ø± ØµÙØ­Ø§Øª ÛŒØ§ ØªØµØ§ÙˆÛŒØ± Ø¨Ø§ ØªÚ©Ù†ÛŒÚ©â€ŒÙ‡Ø§ÛŒ Ø¨ÛŒÙ†Ø§ÛŒÛŒ Ù…Ø§Ø´ÛŒÙ†</p>
              </div>
              <div>
                <a href="https://github.com/E0x1A/YouTube-Downloader" target="_blank">YouTube Downloader</a>
                <p>ğŸ“¥ Ø¯Ø§Ù†Ù„ÙˆØ¯Ø± Ú¯Ø±Ø§ÙÛŒÚ©ÛŒ ÙˆÛŒØ¯ÛŒÙˆ Ø§Ø² ÛŒÙˆØªÛŒÙˆØ¨ Ø¨Ø§ Ø±Ø§Ø¨Ø· Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø³Ø§Ø¯Ù‡ Ùˆ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ</p>
              </div>
            </div>
          </div>
          <div class="other-projects">
            <h2 class="center">ğŸ“‚</h2>
            ${repoListHtml}
          </div>
          <div class="footer center">
            <img src="https://raw.githubusercontent.com/Trilokia/Trilokia/379277808c61ef204768a61bbc5d25bc7798ccf1/bottom_header.svg" alt="Decorative" />
          </div>
        `;
      } catch (error) {
        console.error('Error fetching repositories:', error);
        return makeLinksClickable(messages[lang].projectsError);
      }
    }

    const commands = {
      en: {
        'help': () => messages.en.helpText,
        'about': () => {
          if (!cachedAboutContent) {
            cachedAboutContent = '<iframe src="https://bio.site/EsmaeilAsadi" title="About Esmaeil Asadi"></iframe>';
          }
          openPanel(cachedAboutContent, 'about');
          return '';
        },
        'projects': async () => {
          if (!cachedProjectsContent) {
            cachedProjectsContent = await fetchProjects();
          }
          openPanel(cachedProjectsContent, 'projects');
          return '';
        },
        'clear': () => {
          initTerminal();
          return '';
        },
   
        'quote': () => {
          const arr = quotes.en;
          return arr[Math.floor(Math.random() * arr.length)];
        }
      },
      fa: {
        'Ø±Ø§Ù‡Ù†Ù…Ø§': () => messages.fa.helpText,
        'Ù…Ø´Ø®ØµØ§Øª': () => {
          if (!cachedAboutContent) {
            cachedAboutContent = '<iframe src="https://bio.site/EsmaeilAsadi" title="About Esmaeil Asadi"></iframe>';
          }
          openPanel(cachedAboutContent, 'Ù…Ø´Ø®ØµØ§Øª');
          return '';
        },
        'Ú©Ø§Ø±Ù‡Ø§': async () => {
          if (!cachedProjectsContent) {
            cachedProjectsContent = await fetchProjects();
          }
          openPanel(cachedProjectsContent, 'Ú©Ø§Ø±Ù‡Ø§');
          return '';
        },
        'Ù¾Ø§Ú© Ú©Ù†': () => {
          initTerminal();
          return '';
      },
     
        'Ø¬Ù…Ù„Ù‡': () => {
          const arr = quotes.fa;
          return arr[Math.floor(Math.random() * arr.length)];
        }
      }
    };

    function switchLanguage(newLang) {
      lang = newLang;
      document.documentElement.setAttribute('lang', lang);
      document.documentElement.style.direction = lang === 'fa' ? 'rtl' : 'ltr';
      input.placeholder = lang === 'fa' ? 'Ø¯Ø³ØªÙˆØ± Ø±Ø§ Ø§ÛŒÙ†Ø¬Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯...' : '...Type command here';
      langFaBtn.classList.toggle('active', lang === 'fa');
      langEnBtn.classList.toggle('active', lang === 'en');
      langFaBtn.setAttribute('aria-pressed', lang === 'fa');
      langEnBtn.setAttribute('aria-pressed', lang === 'en');
      cachedProjectsContent = null;
      cachedAboutContent = null;
      output.innerHTML = makeLinksClickable(`${messages[lang].welcome}\n${messages[lang].promptHelp}\n\n${messages[lang].langSwitched}\n\n`);
      closePanel();
      input.focus();
      output.scrollTop = output.scrollHeight;
    }

    langFaBtn.addEventListener('click', () => {
      if (lang !== 'fa') switchLanguage('fa');
    });

    langEnBtn.addEventListener('click', () => {
      if (lang !== 'en') switchLanguage('en');
    });

    closePanelBtn.addEventListener('click', () => {
      closePanel();
    });

    input.addEventListener('keydown', async (e) => {
      if (e.key === 'Enter') {
        e.preventDefault();
        const cmd = input.value.trim().toLowerCase();
        console.log('Command entered:', cmd);

        if (!cmd) {
          output.innerHTML += makeLinksClickable(`> ${cmd}\n${lang === 'fa' ? 'Ù„Ø·ÙØ§Ù‹ ÛŒÚ© Ø¯Ø³ØªÙˆØ± ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯.' : 'Please enter a command.'}\n\n`);
          input.value = '';
          output.scrollTop = output.scrollHeight;
          return;
        }

        const commandSet = commands[lang];
        if (commandSet[cmd]) {
          console.log('Executing command:', cmd);
          const res = await commandSet[cmd]();
          if (cmd !== 'clear' && cmd !== 'Ù¾Ø§Ú©' && cmd !== 'about' && cmd !== 'Ø¯Ø±Ø¨Ø§Ø±Ù‡' && cmd !== 'projects' && cmd !== 'Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§' && res) {
            output.innerHTML += makeLinksClickable(`> ${cmd}\n${res}\n\n`);
          }
        } else {
          output.innerHTML += makeLinksClickable(`> ${cmd}\n${messages[lang].cmdNotFound}\n\n`);
        }
        input.value = '';
        output.scrollTop = output.scrollHeight;
      }
    });

    input.addEventListener('input', () => {
      attractParticlesToInput();
    });

    window.onload = () => {
      initTerminal();
      langFaBtn.classList.add('active');
      langFaBtn.setAttribute('aria-pressed', 'true');
      langEnBtn.setAttribute('aria-pressed', 'false');
      document.documentElement.setAttribute('lang', 'fa');
      document.documentElement.style.direction = 'rtl';
      input.placeholder = 'Ø¯Ø³ØªÙˆØ± Ø±Ø§ Ø§ÛŒÙ†Ø¬Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯...';
    };
  </script>
</body>
</html>
